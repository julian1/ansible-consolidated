

# everything that's not super low level
# its a real mistake to be mixing low level stuff - like udev, fstab with scripts and timezoes.


- hosts:
    - localhost


  roles:

    - name: admin/apt-stretch
      mirror: http://ftp.au.debian.org/debian/

    - admin/devenv-lite   # vim/screen eg. required for anything
    - admin/timezone
    - admin/locale
    # call role twice for different users?

    # https://serverfault.com/questions/758376/local-ansible-playbook-run-playbook-with-vars-for-role
    - name: personal/dotfiles
      tags: dotfiles
      user: meteo
      path: /home/meteo

    - name: personal/pathogen
      tags: pathogen
      user: meteo
      path: /home/meteo

    - name: personal/xmonad
      tags: xmonad
      xmonad_user: meteo

    - name: admin/alsa

    # need the user created before we do this...
    #- name: personal/scripts
    #  tags: scripts

    # TODO - move out here? second level config...
    - name: admin/printer
      tags: printer
      pname: Brother
      url: socket://brother.localnet:9100
      ppd: BRHL16_2_GPL.ppd

    - name: admin/low-battery-alert

    # specific configuration
    # - name: nodes/dell5520   see instead -> plays/nodes/dell5520-0.yml

    - name: nodes/localnet2

  tasks:
  handlers:

